<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz CFC - Quest√µes</title>
<link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
    :root { --rosa: #ff4da6; --errado: #ff4757; --certo: #2ed573; }
    body {
        margin: 0; font-family: 'Roboto', sans-serif;
        background-color: var(--rosa); 
        display: flex; justify-content: center; align-items: center;
        min-height: 100vh; padding: 20px; box-sizing: border-box;
    }
    .quiz-container {
        background: rgba(0,0,0,0.92); padding: 30px; border-radius: 25px;
        width: 100%; max-width: 750px; color: #fff; text-align: center;
        border: 4px solid #fff; box-shadow: 15px 15px 0px rgba(0,0,0,0.4);
    }
    .stats-bar { display: flex; justify-content: space-between; margin-bottom: 15px; font-family: 'Archivo Black'; }
    .vidas { color: var(--errado); font-size: 1.2rem; }
    .ajuda-btn { background: #fff; border: none; padding: 5px 15px; border-radius: 20px; cursor: pointer; font-family: 'Archivo Black'; font-size: 0.7rem; }
    .ajuda-btn:disabled { opacity: 0.3; }
    .topo { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .barra { width: 75%; height: 12px; background: #333; border-radius: 6px; overflow: hidden; border: 1px solid #555; }
    #progresso { height: 100%; width: 0%; background: var(--rosa); transition: width 0.4s; }
    #tempo { font-size: 1.1rem; color: var(--rosa); font-family: 'Archivo Black'; }
    h2 { font-size: 1.1rem; line-height: 1.5; margin-bottom: 20px; }
    .quiz-table { width: 100%; max-width: 500px; margin: 15px auto; border-collapse: collapse; font-size: 0.85rem; background: rgba(255,255,255,0.05); }
    .quiz-table th, .quiz-table td { border: 1px solid rgba(255,255,255,0.1); padding: 6px; text-align: left; }
    .quiz-table th { color: var(--rosa); font-family: 'Archivo Black'; font-size: 0.7rem; }
    #explicacao-box { display: none; background: rgba(255,255,255,0.1); margin: 15px 0; padding: 15px; border-left: 5px solid var(--rosa); text-align: left; font-size: 0.9rem; border-radius: 5px; }
    .opcoes button { width: 100%; margin: 8px 0; padding: 14px; font-size: 0.95rem; border-radius: 12px; border: 2px solid #444; cursor: pointer; font-family: 'Archivo Black'; transition: 0.2s; background: transparent; color: #fff; }
    .opcoes button:not(:disabled):hover { border-color: var(--rosa); background: rgba(255,77,166,0.1); }
    .btn-correto { background-color: var(--certo) !important; color: #000 !important; border-color: var(--certo) !important; }
    .btn-errado { background-color: var(--errado) !important; color: #fff !important; border-color: var(--errado) !important; }
</style>
</head>
<body>

<div class="quiz-container">
    <div class="stats-bar">
        <div class="vidas" id="vidas-display">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
        <button class="ajuda-btn" id="btn-5050" onclick="usar5050()">CURINGA: 50/50</button>
    </div>
    <div class="topo">
        <div id="tempo">‚è±Ô∏è 150s</div>
        <div class="barra"><div id="progresso"></div></div>
    </div>
    <h2 id="pergunta"></h2>
    <div id="explicacao-box"></div>
    <div class="opcoes" id="opcoes-container">
        <button onclick="responder(0)"></button>
        <button onclick="responder(1)"></button>
        <button onclick="responder(2)"></button>
        <button onclick="responder(3)"></button>
    </div>
</div>

<audio id="som-clique" src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3"></audio>
<audio id="som-acerto" src="https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"></audio>
<audio id="som-erro" src="https://assets.mixkit.co/active_storage/sfx/253/253-preview.mp3"></audio>

<script>
const bancoPerguntas = [
    {
        pergunta: "Sua loja apresentou os seguintes saldos. Calcule o <strong>Valor Adicionado L√≠quido</strong>:<table class='quiz-table'><tr><th>Item</th><th>Valor (R$)</th></tr><tr><td>Receita Vendas</td><td>200.000</td></tr><tr><td>CMV</td><td>(80.000)</td></tr><tr><td>Deprecia√ß√£o</td><td>(15.000)</td></tr><tr><td>Perdas Est.</td><td>(16.000)</td></tr></table>",
        opcoes: ["R$ 89.000,00", "R$ 114.000,00", "R$ 104.000,00", "R$ 194.000,00"], correta: 0,
        explicacao: "VAL = Receita (200k) - Insumos (80k) - Depr (15k) - Perdas (16k) = 89k."
    },
    {
        pergunta: "Voc√™ contratou um influencer em Maio por R$ 20k. Ele realizou metade das postagens em Junho e metade em Julho. Como registrar a despesa?",
        opcoes: ["R$ 20.000 em maio", "R$ 10.000 em junho e R$ 10.000 em julho", "R$ 20.000 em agosto", "R$ 5.000 de junho a setembro"], correta: 1,
        explicacao: "Pelo Regime de Compet√™ncia, a despesa ocorre no per√≠odo da presta√ß√£o do servi√ßo (Junho e Julho)."
    },
    {
        pergunta: "Cia Lua gastou R$ 6.000 com m√©dicos. 20% s√£o pagos pelos empregados. Qual o impacto na DRE da empresa?",
        opcoes: ["-R$ 400,00", "-R$ 500,00", "-R$ 4.800,00", "-R$ 6.000,00"], correta: 2,
        explicacao: "A despesa da empresa √© de 80% (100% - 20%). 80% de 6.000 = 4.800."
    },
    {
        pergunta: "Com base nos saldos abaixo, qual o valor do <strong>Ativo N√£o Circulante</strong>?<table class='quiz-table'><tr><td>Caixa / Estoques</td><td>350.000</td></tr><tr><td>Imobilizado</td><td>450.000</td></tr><tr><td>Intang√≠vel</td><td>320.000</td></tr></table>",
        opcoes: ["R$ 770.000,00", "R$ 350.000,00", "R$ 1.020.000,00", "R$ 450.000,00"], correta: 0,
        explicacao: "ANC = Imobilizado (450k) + Intang√≠vel (320k) = 770k."
    },
    {
        pergunta: "Relacione: 1.Empr√©stimo (12m+), 2.Rec em 5m, 3.Pag em 3m, 4.Im√≥vel (10 anos). A ordem (AC-ANC-PC-PNC) √©:",
        opcoes: ["4-2-1-3", "2-4-3-1", "3-1-2-4", "1-3-4-2"], correta: 1,
        explicacao: "2(AC), 4(ANC), 3(PC), 1(PNC)."
    },
    {
        pergunta: "Custo inicial da M√°quina: Pre√ßo 500k, Imp. Importa√ß√£o 50k, Local 100k, Testes 110k. Vida 10a, Residual 100k. Qual o valor de registro?",
        opcoes: ["R$ 500.000", "R$ 550.000", "R$ 650.000", "R$ 760.000"], correta: 3,
        explicacao: "Soma-se todos os gastos necess√°rios para a m√°quina funcionar: 500+50+100+110 = 760k."
    },
    {
        pergunta: "Uma f√°brica gastou: Aluguel e Seguro (35k), Embalagens (2k), Mat√©ria-prima (10k). Quais s√£o os <strong>Custos Fixos</strong>?",
        opcoes: ["R$ 5.000", "R$ 30.000", "R$ 35.000", "R$ 45.000"], correta: 2,
        explicacao: "Custos fixos n√£o variam com a produ√ß√£o: Aluguel (30k) + Seguro (5k) = 35k."
    },
    {
        pergunta: "Sobre Gastos: I.Custo (Direto na produ√ß√£o), II.Despesa (Consumo p/ receita), III.Investimento (Ativado). Quais est√£o corretas?",
        opcoes: ["I e III", "II e III", "I e II", "I, II e III"], correta: 3,
        explicacao: "Todas as tr√™s defini√ß√µes seguem os princ√≠pios fundamentais da contabilidade de custos."
    },
    {
        pergunta: "Custeio Vari√°vel: Vendeu 24k un a R$ 100. Custos Var Unit√°rios R$ 60. Fixos Totais R$ 300k. Qual o lucro?",
        opcoes: ["R$ 660.000", "R$ 960.000", "R$ 700.000", "R$ 300.000"], correta: 0,
        explicacao: "Lucro = (100 - 60) * 24.000 - 300.000 = 960k - 300k = 660k."
    },
    {
        pergunta: "M√°quina 350k (residual 50k). Ap√≥s 4 anos, a vida remanescente √© de 9 anos. Qual a nova deprecia√ß√£o anual?",
        opcoes: ["R$ 35.000", "R$ 30.000", "R$ 20.000", "R$ 15.000"], correta: 2,
        explicacao: "Vlr Cont√°bil ap√≥s 4 anos = 230k. (230k - 50k) / 9 anos = 20k."
    },
    {
        pergunta: "NBC TG 31: Eq 1 (Cont√°bil 500k, Justo 750k). Eq 2 (Cont√°bil 1.5M, Justo 1.25M). Como mensurar para venda?",
        opcoes: ["Eq1: 500k, Eq2: 1.25M", "Eq1: 500k, Eq2: 1.5M", "Eq1: 750k, Eq2: 1.5M", "Eq1: 750k, Eq2: 1.25M"], correta: 0,
        explicacao: "Ativos para venda s√£o mensurados pelo menor valor entre o cont√°bil e o justo l√≠quido."
    },
    {
        pergunta: "Estrutura Conceitual: Ativo √© recurso controlado, Passivo √© obriga√ß√£o presente, Receita aumenta PL. A sequ√™ncia V/F √©:",
        opcoes: ["F-F-V", "F-V-F", "V-F-V", "V-V-F"], correta: 0,
        explicacao: "Defini√ß√µes oficiais da NBC TG EC."
    },
    
    {
    pergunta: "A Cia. Gold vende pulseiras e n√£o tinha estoque inicial. Calcule o <strong>Estoque Final</strong> pelo Custo M√©dio Ponderado M√≥vel:<table class='quiz-table'><tr><th>Data</th><th>Movimenta√ß√£o</th><th>Valor Total</th></tr><tr><td>05/01</td><td>Compra de 20 un.</td><td>R$ 10.000</td></tr><tr><td>25/01</td><td>Venda de 10 un.</td><td>-</td></tr><tr><td>05/02</td><td>Compra de 12 un.</td><td>R$ 7.200</td></tr><tr><td>20/02</td><td>Venda de 11 un.</td><td>-</td></tr><tr><td>10/03</td><td>Compra de 8 un.</td><td>R$ 5.200</td></tr><tr><td>27/03</td><td>Venda de 5 un.</td><td>-</td></tr></table>",
    opcoes: ["R$ 7.840", "R$ 8.326", "R$ 9.100", "R$ 10.905"], correta: 1,
    explicacao: "C√°lculo: (1) M√©dia Jan: 500/un. (2) Saldo ap√≥s venda Jan: 10 un (R$ 5k). (3) M√©dia Fev: (5k+7.2k)/22 un = 554,54. (4) Saldo ap√≥s venda Fev: 11 un (R$ 6.100). (5) M√©dia Mar: (6.1k+5.2k)/19 un = 594,73. (6) Final: 14 un * 594,73 ‚âà R$ 8.326."

    },
    {
        pergunta: "Arrendamento de baixo valor (R$ 30k por 10 meses). Qual o tratamento pela NBC TG 06?",
        opcoes: ["Despesa no in√≠cio", "Capitalizar", "Despesa linear", "Direito de Uso"], correta: 2,
        explicacao: "Isen√ß√£o permite reconhecimento linear como despesa operacional."
    },
    {
        pergunta: "Calcule o CMV: Est. Inicial 3k, Compras 5k, Devolu√ß√£o Compras 500, Est. Final 2k.",
        opcoes: ["R$ 6.000", "R$ 7.500", "R$ 8.000", "R$ 5.500"], correta: 3,
        explicacao: "CMV = 3.000 + (5.000 - 500) - 2.000 = 5.500."
    },
    {
        pergunta: "Custeio por Absor√ß√£o vs Vari√°vel: Se a produ√ß√£o (12k) √© maior que a venda (9k), o lucro por absor√ß√£o ser√°:",
        opcoes: ["Menor", "Igual", "Maior (45k vs 11k)", "Maior (56k vs 45k)"], correta: 3,
        explicacao: "Parte dos custos fixos fica 'preso' no estoque no custeio por absor√ß√£o."
    },
    {
        pergunta: "Ativo 200k, Passivo 140k. Qual a propor√ß√£o do Capital Pr√≥prio que financia o ativo?",
        opcoes: ["30%", "40%", "60%", "70%"], correta: 0,
        explicacao: "PL = 60k. 60k / 200k = 30%."
    },
    {
        pergunta: "Impairment: Cont√°bil 400k. Uso 380k. Justo L√≠quido 390k. Qual o valor recuper√°vel?",
        opcoes: ["R$ 400.000", "R$ 390.000", "R$ 380.000", "R$ 500.000"], correta: 1,
        explicacao: "Vlr Recuper√°vel √© o maior entre Uso e Justo (390k)."
    },
    {
        pergunta: "Im√≥vel para renda. Mercado 1.120. Corretagem 50. Qual o Valor Justo no balan√ßo?",
        opcoes: ["R$ 1.070", "R$ 1.000", "R$ 1.170", "R$ 1.120"], correta: 3,
        explicacao: "Valor justo para propriedades de investimento n√£o deduz despesas de venda."
    },
    {
        pergunta: "CPC 22: Segmentos podem ser agregados se tiverem caracter√≠sticas semelhantes, EXCETO:",
        opcoes: ["Processos", "Clientes", "Resultados Absolutos", "Regras"], correta: 2,
        explicacao: "Resultados absolutos iguais n√£o √© crit√©rio de agrega√ß√£o."
    }
];

let perguntas = [];
let indice = 0; let pontos = 0; let vidas = 3; let tempo = 150; let ajudaUsada = false;

function iniciarQuiz() {
    perguntas = bancoPerguntas.sort(() => Math.random() - 0.5);
    mostrarPergunta();
    const timer = setInterval(() => {
        tempo--;
        document.getElementById("tempo").textContent = `‚è±Ô∏è ${tempo}s`;
        if (tempo <= 0 || vidas <= 0) { clearInterval(timer); finalizarQuiz(); }
    }, 1000);
}

function mostrarPergunta() {
    const q = perguntas[indice];
    document.getElementById("pergunta").innerHTML = q.pergunta;
    document.getElementById("explicacao-box").style.display = "none";
    const botoes = document.querySelectorAll(".opcoes button");
    botoes.forEach((btn, i) => {
        btn.textContent = q.opcoes[i];
        btn.className = ""; btn.disabled = false; btn.style.display = "block";
    });
    document.getElementById("progresso").style.width = `${(indice / perguntas.length) * 100}%`;
}

function responder(opcao) {
    const q = perguntas[indice];
    const botoes = document.querySelectorAll(".opcoes button");
    const exp = document.getElementById("explicacao-box");
    document.getElementById("som-clique").play();
    botoes.forEach(b => b.disabled = true);

    if (opcao === q.correta) {
        document.getElementById("som-acerto").play();
        botoes[opcao].classList.add("btn-correto");
        pontos++;
    } else {
        document.getElementById("som-erro").play();
        botoes[opcao].classList.add("btn-errado");
        botoes[q.correta].classList.add("btn-correto");
        vidas--; atualizarVidas();
    }
    exp.innerHTML = `<strong>Dica Cont√°bil:</strong> ${q.explicacao}`;
    exp.style.display = "block";

    setTimeout(() => {
        if (vidas > 0) {
            indice++; indice < perguntas.length ? mostrarPergunta() : finalizarQuiz();
        } else { finalizarQuiz(); }
    }, 2500);
}

function atualizarVidas() {
    document.getElementById("vidas-display").textContent = "‚ù§Ô∏è".repeat(vidas) + "üñ§".repeat(3 - vidas);
}

function usar5050() {
    if (ajudaUsada) return;
    const correta = perguntas[indice].correta;
    let removidos = 0;
    const btns = document.querySelectorAll(".opcoes button");
    for (let i = 0; i < 4; i++) {
        if (i !== correta && removidos < 2) { btns[i].style.display = "none"; removidos++; }
    }
    ajudaUsada = true; document.getElementById("btn-5050").disabled = true;
}

function finalizarQuiz() {
    if (pontos === perguntas.length && vidas > 0) {
        confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 }, colors: ['#ff4da6', '#ffffff'] });
    }
    localStorage.setItem("pontuacao", pontos);
    localStorage.setItem("total", perguntas.length);
    setTimeout(() => { window.location.href = "resultado.html"; }, 1500);
}

iniciarQuiz();
</script>
</body>
</html>

